<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스파르타플릭스</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Black+Han+Sans&display=swap');


       *{
            font-family: "Black Han Sans", sans-serif;
            font-weight: 400;
            font-style: normal;
        }

        .main 
        {
            /* background-color: green; */
            color: white;

            background-image: url('https://occ-0-1123-1217.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABeIfo7VL_VDyKnljV66IkR-4XLb6xpZqhpLSo3JUtbivnEW4s60PD27muH1mdaANM_8rGpgbm6L2oDgA_iELHZLZ2IQjG5lvp5d2.jpg?r=e6e.jpg');
            background-position: center;
            background-size: cover;
        }

        body 
        {   
            background-color: black;
        }

        
        .mycards
        {
            /* background-color: green; */
            width: 1200px;
            margin: 20px auto 20px auto;

        }

        .mypostingbox
        {
            width: 500px;
            margin: 20px auto 20px auto;
            border: 1px solid white;
            padding: 20px;
            border-radius: 5px;

        }

        .form-floating > input
        { 
            background-color: transparent;
            color: white;
        }

        .form-floating > label
        {
            color: white;
        }

        .input-group > label
        {
            background-color: transparent;
            color: white;
        }

        .mypostingbox > button
        {
            width: 100%;
        }

    </style>

    <script type="module">
        // ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ
        
        // 1. 변수 예시
        // let a = '안녕하세요';
        // let b = '네 반가워요';
        // console.log(a);
        // console.log(b);
        
        // let a = '고양이는';
        // let b = '야옹';
        // console.log(a+b);
        // console.log(a+b+b);
        // console.log(a+b+b+b);
        // => 변수는 값을 담아 한방에 관리하는데 좋음.

        // let a = 5;
        // let b = 3;
        // console.log(a+b);
        // // => 계산기도 쌉가능. 대신 렛 지정에서 작은따옴표를 빼줘야됨. 넣으면53으로 출력됨. 

        // ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ

        // 2-1. 자료형_리스트 예시
        // let a = ['사과','배','수박']
        // console.log(a[2]) 
        // // => 리스트는 순서가 중요. 프록그래밍 언어는 1부터 세지 않고 0부터 셈.

        // 2-2. 자료형_딕셔너리 예시
        // let person = {'name':'kangsora', 'age':12, 'height':130}
        // let name = person['name']
        // let age = person['age']
        // let height = person['height']
        // console.log(name,age,height)

        // ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ


        // 3. 조건문 예시
        // let age = 20;

        // if (age < 20) 
        // { console.log('청소년입니다') } 
        
        // else 
        // { console.log('성인입니다') }


        // ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ


        // 4. 조건문 예시

        // let ages = [15, 30, 28, 7, 40, 13];
        
        // ages.forEach(a => 
        // { console.log(a)});



        // let ages = [15, 30, 28, 7, 40, 13];
        
        // ages.forEach(a => 
        // {
        //     if (a < 20) 
        // { console.log('청소년입니다') } 
        
        //     else 
        // { console.log('성인입니다') }
        // });


        // ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ

            // 5. 함수 예시

            // function hey()
            // {
            // alert('안녕하세요');
            // }

            // <button onclick="hey()" type="button" class="btn btn-outline-light">영화 기록하기</button>
            
            // => 이제 영화 기록하기를 누르면 헤이값을 출력시킴.
            // => 함수는 기본적으로 같은 동작을 반복.

        // ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ


    // Firebase SDK 라이브러리 가져오기
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
    import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
    import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = 
    {
        apiKey: "AIzaSyDrtm2ggiG-Vaqwty9FBgo9_-H860YkMIo",
        authDomain: "sparta-c232e.firebaseapp.com",
        projectId: "sparta-c232e",
        storageBucket: "sparta-c232e.appspot.com",
        messagingSenderId: "357777905922",
        appId: "1:357777905922:web:cc2c5dcc28b448273eca1b",
        measurementId: "G-WF5M1DDJ9C"
    };

    // Firebase 인스턴스 초기화
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        
    $("#postingbtn").click(async function ()
    {
        let image = $('#image').val();
        let title = $('#title').val();
        let star = $('#star').val();
        let comment = $('#comment').val();

        let doc = 
    { 
        'image' : image,
        'title' : title,
        'star' : star,
        'comment' : comment
    };
        await addDoc(collection(db, "movies"), doc);
        alert('저장 완료')
        window.location.reload();
    })


    {
        let url = "http://spartacodingclub.shop/sparta_api/weather/seoul";
        fetch(url).then(res => res.json()).then(data => 
        {
        let temp = data['temp'];
        if  (temp > 20) 
        { 
            $('#msg').text('더워요'); 
        } 
        else 
        { 
            {$('#msg').text('추워요');} 
        }
        })
    }    

      let docs = await getDocs(collection(db, "movies"));
      docs.forEach((doc) =>   
    {
      let row = doc.data();
      let image = row['image'];
      let title = row['title'];
      let star = row['star'];
      let comment = row['comment'];

      let temp_html = 
    `
      <div class="col">
      <div class="card h-100">
      <img src="${image}" class="card-img-top" alt="...">
      <div class="card-body">
      <h5 class="card-title">${title}</h5>
      <p class="card-text">${star}</p>
      <p class="card-text">${comment}</p>            
      </div>
      </div>
      </div>  
    `;
      $('#card').append(temp_html);
    });


        $("#savebtn").click(async function ()
    {
        $('#postingbox').toggle();
    })


            function openclose() 
            {
                $('#postingbox').toggle();          
            }
        
            // function makecard()
            // {
            //     let image = $('#image').val();
            //     let title = $('#title').val();
            //     let star = $('#star').val();
            //     let comment = $('#comment').val();
            //     // console.log(image, title, star, comment);

            //     let temp_html = 
            //     `
            //     <div class="col">
            //     <div class="card h-100">
            //     <img src="${image}">
            //     <div class="card-body">
            //     <h5 class="card-title">${title}</h5>
            //     <p class="card-text">${star}</p>
            //     <p class="card-text">${comment}</p>            
            //     </div>
            //     </div>
            //     </div>  
            //     `;
            //     $('#card').append(temp_html);
            // }
   </script>

</head>

<body>

    <header class="p-3 text-bg-dark">
        <div class="container">
            <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
                <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
                    <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap">
                        <use xlink:href="#bootstrap"></use>
                    </svg>
                </a>

                <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                    <li><a href="#" class="nav-link px-2 text-danger">Spartaflix</a></li>
                    <li><a href="#" class="nav-link px-2 text-white">Home</a></li>
                    <li><a href="#" class="nav-link px-2 text-white">Siries</a></li>
                    <li><a href="#" class="nav-link px-2 text-white">Movie</a></li>
                    <li><a href="#" class="nav-link px-2 text-white">My movie</a></li>
                    <li><a href="#" class="nav-link px-2 text-white">현재 기온: <span id="msg"></span></a></li>
                </ul>

                <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
                    <input type="search" class="form-control form-control-dark text-bg-dark" placeholder="Search..."
                        aria-label="Search">
                </form>

                <div class="text-end">
                    <button type="button" class="btn btn-outline-light me-2">Login</button>
                    <button type="button" class="btn btn-danger">Sign-up</button>
                </div>
            </div>
        </div>
    </header>

    <div class="main">
        <div class="p-5 mb-4 bg-body-tertiary rounded-3">
            <div class="container-fluid py-5">
                <h1 class="display-5 fw-bold">Kingdum</h1>
                <p class="col-md-8 fs-4">병든 왕을 둘러싸고 흉흉한 소문이 떠돈다. 어둠에 뒤덮인 조선, 기이한 역병에 신음하는 산하. 정체 모를 악에 맞서 백성을 구원할 희망은 오직
                    세자뿐이다.</p>

                <button id="savebtn" type="button" class="btn btn-outline-light">영화 기록하기</button>
                <button type="button" class="btn btn-outline-light">상세 정보</button>
            </div>
        </div>
    </div>

    <div class="mypostingbox" id="postingbox">
        <div class="form-floating mb-3">
            <input type="email" class="form-control" id="image" placeholder="영화 이미지 주소">
            <label for="floatingInput">영화 이미지 주소</label>
        </div>

        <div class="form-floating mb-3">
            <input type="email" class="form-control" id="title" placeholder="영화 제목">
            <label for="floatingInput">영화 제목</label>
        </div>

        <div class="input-group mb-3">
            <label class="input-group-text" for="inputGroupSelect01">별점</label>
            <select class="form-select" id="star">
              <option selected>별점 선택</option>
              <option value="⭐">⭐</option>
              <option value="⭐⭐">⭐⭐</option>
              <option value="⭐⭐⭐">⭐⭐⭐</option>
              <option value="⭐⭐⭐⭐">⭐⭐⭐⭐</option>
              <option value="⭐⭐⭐⭐⭐">⭐⭐⭐⭐⭐</option>
            </select>
          </div>

        <div class="form-floating mb-3">
            <input type="email" class="form-control" id="comment" placeholder="추천 이유">
            <label for="floatingInput">추천 이유</label>
        </div>

        <button id="postingbtn" type="button" class="btn btn-danger">기록하기</button>

    </div>

    <div class="mycards">
        <div id="card" class="row row-cols-1 row-cols-md-4 g-4">
    
            <!-- <div class="col">
              <div class="card h-100">
                <img src="https://movie-phinf.pstatic.net/20210728_221/1627440327667GyoYj_JPEG/movie_image.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">영화 제목</h5>
                  <p class="card-text">⭐⭐⭐</p>
                  <p class="card-text">영화 코맨트</p>            
                </div>
              </div>
            </div>            

            <div class="col">
                <div class="card h-100">
                <img src="https://movie-phinf.pstatic.net/20210728_221/1627440327667GyoYj_JPEG/movie_image.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                <h5 class="card-title">영화 제목</h5>
                <p class="card-text">⭐⭐⭐</p>
                <p class="card-text">영화 코맨트</p>            
                </div>
              </div>
            </div>

            <div class="col">
              <div class="card h-100">
                <img src="https://movie-phinf.pstatic.net/20210728_221/1627440327667GyoYj_JPEG/movie_image.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                <h5 class="card-title">영화 제목</h5>
                <p class="card-text">⭐⭐⭐</p>
                <p class="card-text">영화 코맨트</p>            
                </div>
              </div>
            </div>

            <div class="col">
                <div class="card h-100">
                <img src="https://movie-phinf.pstatic.net/20210728_221/1627440327667GyoYj_JPEG/movie_image.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                <h5 class="card-title">영화 제목</h5>
                <p class="card-text">⭐⭐⭐</p>
                <p class="card-text">영화 코맨트</p>            
                </div>
              </div>
            </div> -->
</body>

</html>